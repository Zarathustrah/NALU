{"version":3,"sources":["lib/auth.js","lib/api.js","components/common/Home.js","lib/notification.js","components/common/Navbar.js","components/auth/Register.js","components/auth/Login.js","components/spots/SpotCard.js","components/spots/SpotList.js","components/spots/SpotMap.js","components/spots/SpotIndex.js","components/common/AddAchievedSpot.js","components/common/HandleCompletedSpot.js","components/common/Profile.js","components/spots/SpotMiniMap.js","components/spots/SpotComments.js","components/spots/SpotShow.js","components/spots/SpotForm.js","components/spots/SpotNew.js","components/spots/SpotEdit.js","components/users/UserIndex.js","components/common/ErrorPage.js","components/common/SecureRoute.js","App.js","index.js"],"names":["setToken","receivedToken","window","localStorage","setItem","getToken","getItem","logout","removeItem","getPayload","token","parts","split","length","JSON","parse","atob","isAuthenticated","payload","Math","round","Date","now","exp","isOwner","userId","sub","getUserId","withHeaders","headers","Authorization","getAllSpots","axios","get","showSingleSpot","id","createSpot","formData","post","editSpot","put","deleteSpot","delete","commentSpot","deleteSpotComment","commentId","registerUser","loginUser","getUser","addAchievedSpot","spotId","deleteAcheivedSpot","linkName","getMarineWeatherStatus","lat","long","process","Home","state","search","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","props","history","push","className","onSubmit","this","type","placeholder","onChange","React","Component","popupStyles","background","text","popupNotification","message","notify","show","Navbar","navbarOpen","spotsOpen","communityOpen","accountOpen","handleNavToggle","tab","toggleNavbar","handleLogout","prevProps","location","pathname","userID","to","onClick","aria-hidden","withRouter","Register","data","username","email","password","passwordConfirmation","errors","e","a","res","console","log","response","information","icon","faUser","faEnvelope","faLock","Login","error","SpotCard","spot","country","image","waveType","difficulty","season","description","_id","src","alt","width","height","Truncate","lines","ellipsis","SpotList","SpotMap","surfPoints","viewport","latitude","longitude","zoom","bearing","pitch","handlePopupShow","currentTarget","mapboxApiAccessToken","mapStyle","onViewportChange","scrollZoom","map","point","key","closeButton","region","role","aria-label","showZoom","showCompass","position","SpotIndex","spots","searchTerm","hideMap","hideList","hideGrid","currentLocation","handleSearch","filteredSpots","result","RegExp","filter","test","continent","handleDisplayCard","navigator","geolocation","getCurrentPosition","coords","faList","faTh","faMapPin","AddAchievedSpot","spotOptions","achievedSpot","selectedSpot","addSpotOptions","label","handleMultiChange","selected","baseUrl","resUser","options","HandleCompletedSpot","Profile","users","addAchievedSurfSpot","removeCompletedSpot","match","params","resSpot","achievedSurfSpot","isUserSpot","forEach","surfSpotId","handleClick","edit","profileImage","SpotMiniMap","SpotComments","commentData","rating","userProfileImage","handleRating","handleCommentSubmit","commentRating","commentText","currentUserId","handleCommentDelete","comment","count","size","half","parseInt","calcRating","fullIcon","emptyIcon","user","fromNow","createdAt","halfIcon","SpotShow","averageRating","modalImageOn","uploadImageOn","localWeather","localMarineWeather","withMarineHeaders","handleDeleteSpot","config","ratings","comments","reduce","b","toFixed","loggedIn","resWeather","resMarine","currentUser","style","backgroundImage","s","weather","main","temp","hours","seaLevel","meto","swellDirection","meteo","swellHeight","waterTemperature","waveHeight","SpotForm","submitText","class","defaultValue","faGlobe","disabled","faFlag","faPortrait","SpotNew","SpotEdit","UserIndex","ErrorPage","hero-background","SecureRoute","component","rest","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b4cfd70f.chunk.js","sourcesContent":["export const setToken = receivedToken => {\n  window.localStorage.setItem('token', receivedToken)\n}\n\nexport const getToken = () => {\n  return window.localStorage.getItem('token')\n}\n\nexport const logout = () => {\n  window.localStorage.removeItem('token')\n}\n\nconst getPayload = () => {\n  const token = getToken()\n  if (!token) return false\n  const parts = token.split('.')\n  if (parts.length < 3) return false\n  return JSON.parse(window.atob(parts[1]))\n}\n\nexport const isAuthenticated = () => {\n  const payload = getPayload()\n  if (!payload) return false\n  const now = Math.round(Date.now() / 1000)\n  return now < payload.exp\n}\n\nexport const isOwner = userId => {\n  if (!isAuthenticated) return false\n  return userId === getPayload().sub\n}\n\nexport const getUserId = () => {\n  return getPayload().sub\n}\n","import axios from 'axios'\nimport { getToken } from './auth'\nconst baseUrl = '/api'\nconst withHeaders = () => {\n  return {\n    headers: { Authorization: `Bearer ${getToken()}` }\n  }\n}\nconst withMarineHeaders = () => {\n  return {\n    headers: { Authorization: process.env.REACT_APP_STORM }\n  }\n}\n// -------------------------------- Spot Related  -------------------------------- //\nexport const getAllSpots = () => {\n  return axios.get(`${baseUrl}/surfspots`)\n}\nexport const showSingleSpot = id => {\n  return axios.get(`${baseUrl}/surfspots/${id}`)\n}\nexport const createSpot = formData => {\n  return axios.post(`${baseUrl}/surfspots`, formData, withHeaders())\n}\nexport const editSpot = (id, formData) => {\n  return axios.put(`${baseUrl}/surfspots/${id}`, formData, withHeaders())\n} \nexport const deleteSpot = id => {\n  return axios.delete(`${baseUrl}/surfspots/${id}`, withHeaders())\n}\n// -------------------------------- Spot Related  -------------------------------- //\nexport const commentSpot = (id, formData) => {\n  return axios.post(`${baseUrl}/surfspots/${id}/comments`, formData, withHeaders())\n}\nexport const deleteSpotComment = (id, commentId) => {\n  return axios.delete(`${baseUrl}/surfspots/${id}/comments/${commentId}`, withHeaders())\n}\n// -------------------------------- User Registration  -------------------------------- //\nexport const registerUser = formData => {\n  return axios.post(`${baseUrl}/register`, formData)\n}\nexport const loginUser = formData => {\n  return axios.post(`${baseUrl}/login`, formData )\n}\n// --------------------------------  Profiles Related  -------------------------------- //\nexport const getAllUsers = () => {\n  return axios.get(`${baseUrl}/profile`, withHeaders())\n}\nexport const getUser = userId => {\n  return axios.get(`${baseUrl}/profile/${userId}`, withHeaders())\n}\nexport const editUser = (userId, formData) => {\n  return axios.put(`${baseUrl}/profile/${userId}`, formData, withHeaders())\n}\n\nexport const addAchievedSpot = (userId, spotId) => {\n  return axios.post(`${baseUrl}/profile/${userId}/achieved`, spotId, withHeaders())\n}\n\nexport const deleteAcheivedSpot = (userId, linkName, spotId) => {\n  return axios.delete(`${baseUrl}/profile/${userId}/${linkName}/${spotId}`, withHeaders())\n}\n\n// -------------------------------- External API Related  -------------------------------- //\n\nexport const getMarineWeatherStatus = (lat, long) => {\n  return axios.get(`https://api.stormglass.io/v2/weather/point?lat=${lat}&lng=${long}&params=airTemperature,seaLevel,swellDirection,swellHeight,waterTemperature,waveDirection,waveHeight`, withMarineHeaders())\n}\nexport const getLocalWeatherStatus = (lat, long) => {\n  return axios.get(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&appid=${process.env.REACT_APP_WEATHER_KEY}`)\n}\n\n","import React from 'react'\nimport { getAllSpots } from '../../lib/api'\n\nclass Home extends React.Component {\n  state = {\n      search: ''\n    }\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value })\n  }\n  \n  handleSubmit = event => {\n    event.preventDefault()\n    this.props.history.push(`/surfspots?search=${this.state.search}`)\n  }\n\n  render(){\n    return (\n      <section className=\"hero is-fullheight is-primary is-bold homebackground\">\n        <div className=\"hero-body\">\n          <div className=\"container\">\n            <h1 className=\"title is-1 frontpage wavy\">\n              <p> N </p> <p> A </p> <p> L </p> <p> U </p>\n            </h1>\n            <div className=\"columns\">\n              <form\n                onSubmit={this.handleSubmit}\n                className=\"column is-half is-offset-one-quarter searchbar\"\n              >\n                <div className=\"field search\">\n                  <div className=\"control\">\n                    <input\n                      className=\"input is-rounded is-primary\"\n                      type=\"text\"\n                      name=\"search\"\n                      placeholder=\"Where you do you want to go?\"\n                      onChange={this.handleChange}\n                      value={this.state.search}\n                    />\n                  </div>\n                </div>\n                <div className=\"field search-button\">\n                  <input\n                    type=\"submit\"\n                    className=\"button is-rounded is-primary\"\n                    value=\"Go!\"\n                  />\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default Home\n","import { notify } from 'react-notify-toast'\n\nconst popupStyles = { background: '#05515d', text: '#c7cecf' }\n\nexport const popupNotification = message => {\n  notify.show(message, 'custom', 3001, popupStyles)\n}","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { logout, isAuthenticated, getUserId } from '../../lib/auth'\nimport { popupNotification } from '../../lib/notification'\n\nclass Navbar extends React.Component {\n  state = {\n    navbarOpen: false,\n    spotsOpen: false,\n    communityOpen: false,\n    accountOpen: false,\n  }\n\n  handleNavToggle = tab => {\n    if (tab === 'spots') {\n      this.setState({\n        spotsOpen: !this.state.spotsOpen,\n        communityOpen: false,\n        accountOpen: false\n      })\n    } else if (tab === 'community') {\n      this.setState({\n        spotsOpen: false,\n        communityOpen: !this.state.communityOpen,\n        accountOpen: false\n      })\n    } else if (tab === 'account') {\n      this.setState({\n        spotsOpen: false,\n        communityOpen: false,\n        accountOpen: !this.state.accountOpen\n      })\n    }\n  }\n\n  toggleNavbar = () => {\n    this.setState({ navbarOpen: !this.state.navbarOpen })\n  }\n\n  handleLogout = () => {\n    logout()\n    popupNotification('Enjoy the ride!')\n    this.props.history.push('/')\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this.setState({ navbarOpen: false })\n    }\n  }\n\n  render() {\n    const userID = getUserId()\n    const { navbarOpen, spotsOpen, accountOpen } = this.state\n\n    return (\n      <nav className=\"navbar\">\n        <div className=\"container\">\n          <div className=\"navbar-brand\">\n            <Link to=\"/\" className=\"navbar-item\">N A L U</Link>\n            <span onClick={this.toggleNavbar} className={`navbar-burger ${navbarOpen ? 'is-active' : ''}`}>\n              <span aria-hidden=\"true\"></span>\n              <span aria-hidden=\"true\"></span>\n              <span aria-hidden=\"true\"></span>\n            </span>\n          </div>\n          <div className={`navbar-menu ${navbarOpen? 'is-active' : ''}`}>\n            <div className=\"navbar-end\">\n              {!isAuthenticated() && <Link to=\"/surfspots\"><div className=\"navbar-item main-nav worldspot\">World Spots</div></Link>}\n              {isAuthenticated() && <div className={`navbar-item has-dropdown ${spotsOpen ? 'is-active' : ''}`} onClick={() => this.handleNavToggle('spots')}>\n                <span className=\"main-nav\">Spots</span>\n                <div className=\"navbar-dropdown\">\n                  <Link to=\"/surfspots\"><div className=\"navbar-item\">All Spots</div></Link>\n                  <Link to=\"/surfspots/new\"><div className=\"navbar-item\">Add New Spots</div></Link>\n                </div>\n              </div>}\n              {!isAuthenticated() && <Link to=\"/login\" className=\"navbar-item main-nav\">Log In</Link>}\n              {isAuthenticated() && <div className={`navbar-item has-dropdown ${accountOpen ? 'is-active' : ''}`} onClick={() => this.handleNavToggle('account')}>\n                <span className=\"main-nav\">Account</span>\n                <div className=\"navbar-dropdown\">\n                <Link to={`/profile/${userID}`}><div className=\"navbar-item nav-color\">Profile</div></Link>\n                  <span onClick={this.handleLogout} className=\"navbar-item nav-color\">Log Out</span>\n                </div>\n              </div>}\n            </div>\n          </div>\n        </div>\n      </nav>\n    )\n  }\n}\n\n\nexport default withRouter(Navbar)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { registerUser } from '../../lib/api'\nimport { popupNotification } from '../../lib/notification'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEnvelope, faUser, faLock } from '@fortawesome/free-solid-svg-icons'\nclass Register extends React.Component {\n  state = {\n    data: {\n      username: '',\n      email: '',\n      password: '',\n      passwordConfirmation: ''\n    },\n    errors: {}\n  }\n  \n  handleChange = e => {\n    const data = { ...this.state.data, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ data, errors })\n  }\n  handleSubmit = async e => {\n    e.preventDefault()\n    try {\n      const res = await registerUser(this.state.data)\n      console.log(res.data)\n      popupNotification('Welcome! now please log in')\n      this.props.history.push('/login')\n    } catch (err) {\n      console.log(err)\n      this.setState({ errors: err.response.data.errors })\n    }\n  }\n  render() {\n\n    return (\n      <>\n        <section className=\"hero is-fullheight banner\">\n        <section className=\"section is-large\">\n          <div className=\"container\">\n          <h1 className=\" title is-1 register\">Join The Crew</h1>\n            <div className=\"columns\">\n              <form onSubmit={this.handleSubmit} className=\"column is-half is-offset-one-quarter box change\" >\n                <div className=\"field\">\n                  <label className=\"label\">Username</label>\n                  <div className=\"control has-icons-left\">\n                    <input\n                      className={`input ${this.state.errors.username ? 'is-danger' : ''}`}\n                      placeholder=\"Username\"\n                      name=\"username\"\n                      onChange={this.handleChange}\n                      information\n                    />\n                    <span className=\"icon is-small is-left\">\n                      <FontAwesomeIcon icon={faUser} />\n                    </span>\n                  </div>\n                  <div className=\"field\">\n                    <label className=\"label\">Email</label>\n                    <div className=\"control has-icons-left\">\n                      <input\n                        className={`input ${this.state.errors.email ? 'is-danger' : ''}`}\n                        placeholder=\"Email\"\n                        name=\"email\"\n                        onChange={this.handleChange}\n                      />\n                      <span className=\"icon is-small is-left\">\n                        <FontAwesomeIcon icon={faEnvelope} />\n                      </span>\n                    </div>\n                    {this.state.errors.email && <small className=\"help is-danger\">{this.state.errors.email}</small>}\n                  </div>\n                  {this.state.errors.email && <small className=\"help is-danger\">{this.state.errors.email}</small>}\n                </div>\n                <div className=\"field\">\n                  <label className=\"label\">Profile Picture</label>\n                  <div className=\"control has-icons-left\">\n                    <input\n                      className={`input ${this.state.errors.email ? 'is-danger' : ''}`}\n                      placeholder=\"profileImage\"\n                      name=\"profileImage\"\n                      onChange={this.handleChange}\n                    />\n                    <span className=\"icon is-small is-left\">\n                      <FontAwesomeIcon icon={faEnvelope} />\n                    </span>\n                  </div>\n                  {this.state.errors.email && <small className=\"help is-danger\">{this.state.errors.email}</small>}\n                </div>\n                <div className=\"field\">\n                  <label className=\"label\">Password</label>\n                  <div className=\"control has-icons-left\">\n                    <input\n                      className={`input ${this.state.errors.password ? 'is-danger' : ''}`}\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      name=\"password\"\n                      onChange={this.handleChange}\n                    />\n                    <span className=\"icon is-small is-left\">\n                      <FontAwesomeIcon icon={faLock} />\n                    </span>\n                  </div>\n                  <div className=\"field\">\n                    <label className=\"label\">Password Confirmation</label>\n                    <div className=\"control has-icons-left\">\n                      <input\n                        className={`input ${this.state.errors.passwordConfirmation ? 'is-danger' : ''}`}\n                        type=\"password\"\n                        placeholder=\"Password Confirmation\"\n                        name=\"passwordConfirmation\"\n                        onChange={this.handleChange}\n                      />\n                      <span className=\"icon is-small is-left\">\n                        <FontAwesomeIcon icon={faLock} />\n                      </span>\n                    </div>\n                    {this.state.errors.passwordConfirmation && <small className=\"help is-danger\">{this.state.errors.passwordConfirmation}</small>}\n                  </div>\n                  {this.state.errors.passwordConfirmation && <small className=\"help is-danger\">{this.state.errors.passwordConfirmation}</small>}\n                </div>\n                <div className=\"field\">\n                  <button type=\"submit\" className=\"button is-fullwidth has-background-grey-light\">Register</button>\n                </div>\n                <div className=\"column is-half is-offset-one-quarter\">\n                  <p className=\"has-text-centered\">\n                    <small>Already have an account?\n                      <Link to=\"/login\" className=\"form-link\">Log In</Link>\n                    </small>\n                  </p>\n                </div>\n              </form>\n              </div>\n            </div>\n        </section>\n      </section>\n      </>\n    )\n  }\n}\nexport default Register","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { loginUser } from '../../lib/api'\nimport { setToken } from '../../lib/auth'\nimport { popupNotification } from '../../lib/notification'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEnvelope, faLock } from '@fortawesome/free-solid-svg-icons'\n\n\nclass Login extends React.Component {\n  state = {\n    data: {\n      email: '',\n      password: ''\n    },\n    error: ''\n  }\n\n  handleChange = e => {\n    const data = { ...this.state.data, [e.target.name]: e.target.value }\n    this.setState({ data, error: '' })\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault()\n\n    try {\n      const res = await loginUser(this.state.data)\n      setToken(res.data.token)\n      popupNotification(res.data.message)\n      this.props.history.push('/surfspots')\n    } catch (err) {\n      console.log(err)\n      this.setState({ error: 'Invalid Credentials' })\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <section className=\"hero is-fullheight login\">\n        <section className=\"section\">\n          <div className=\"container\">\n          <h1 className=\"signup\">Please Sign In</h1>\n            <div className=\"columns\">\n              <form onSubmit={this.handleSubmit} className=\"column is-half is-offset-one-quarter box\">\n                <div className=\"field\">\n                  <label className=\"label\">Email</label>\n                  <div className=\"control has-icons-left\">\n                    <input\n                      className={`input ${this.state.error ? 'is-danger' : ''}`}\n                      name=\"email\"\n                      placeholder=\"Email\"\n                      onChange={this.handleChange}\n                    />\n                    <span className=\"icon is-small is-left\">\n                      <FontAwesomeIcon icon={faEnvelope}/>\n                    </span>\n                  </div>\n                </div>\n                <div className=\"field\">\n                  <label className=\"label\">Password</label>\n                  <div className=\"control has-icons-left\">\n                    <input\n                      className={`input ${this.state.error ? 'is-danger' : ''}`}\n                      type=\"password\"\n                      name=\"password\"\n                      placeholder=\"Password\"\n                      onChange={this.handleChange}\n                    />\n                    <span className=\"icon is-small is-left\">\n                      <FontAwesomeIcon icon={faLock} />\n                    </span>\n                  </div>\n                  {this.state.error && <small className=\"help is-primary\">{this.state.error}</small>}\n                </div>\n                <button type=\"submit\" className=\"button has-background-grey-light is-fullwidth \">Login</button>\n                <div className=\"column is-half is-offset-one-quarter\">\n                  <p className=\"has-text-centered\">\n                    <small>Dont have an account?\n                      <Link to=\"/register\" className=\"form-link\"> Sign Up</Link>\n                    </small>\n                  </p>\n                </div>\n              </form>\n            </div>\n          </div>\n          </section>\n        </section>\n      </>\n    )\n  }\n}\n\nexport default Login\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Truncate from 'react-truncate'\n\nconst SpotCard = ({ spot, country, image, waveType, difficulty, season, description, _id }) => (\n\n  <div className=\"column is-one-third-desktop is-one-third-tablet is-fullwidth SpotCard\">\n    <Link to={`/surfspots/${_id}`}>\n        <div className=\"card\">\n          <div className=\"card-image\">\n            <figure className=\"image image is-1by1\">\n            <img src={image} alt={spot} width=\"325\" height=\"150\" />\n            </figure>\n          </div>\n      \n          <div className=\"card-content\">\n          <h5 className=\"is-size-5 has-text-black has-text-left pb-5\">{spot}, {country}</h5>\n            <section className=\"pb-5\">\n            <p className=\"\">Break: {waveType}</p>\n            <p className=\"\">Difficulty: {difficulty}</p>\n            <p className=\"\">Season: {season}</p>\n            </section>\n            <div>\n            <Truncate lines={5} ellipsis={<span>...</span>}>{description}</Truncate>            \n          </div>\n          </div>\n          <div className=\"card-image\">\n          </div>\n        </div>\n    </Link>\n    </div>\n\n)\n\nexport default SpotCard\n\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst SpotList = ({ spot, country, image, waveType, difficulty, season, description, _id }) => (\n\n  <Link to={`/spots/${_id}`} className=\"box\">\n    <div className=\"column is-full SpotsListCard\">\n      <div className=\"columns\">\n        <img src={image} alt={spot} className=\"column is-one-quarter is-mobile index-image\" />\n        <div className=\"column is-multiline\">\n          <div className=\"column is-full\">\n            <h1 className=\"subtitle\">{spot}, {country}</h1>\n            <div className=\"card-content\">\n              <p className=\"\">{waveType}</p>\n              <p className=\"\">{difficulty}</p>\n              <p className=\"\">{season}</p>\n              <p className=\"\">{description}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </Link>\n\n)\n\nexport default SpotList","import React from 'react'\nimport MapGl from 'react-map-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport { getAllSpots } from '../../lib/api'\nimport { Popup, NavigationControl } from 'react-map-gl'\nimport { Link } from 'react-router-dom'\n\nclass SpotMap extends React.Component {\n  state = {\n    surfPoints: [],\n    viewport: {\n      latitude: 51,\n      longitude: 5,\n      zoom: 4,\n      bearing: 0,\n      pitch: 0\n    }\n  }\n  async componentDidMount() {\n    try {\n      const res = await getAllSpots()\n      this.setState({ surfPoints: res.data})\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  handlePopupShow = e => {\n    if (e.currentTarget.className === \"text-popup\") {\n      e.currentTarget.className = \"card-popup\"\n    } else {\n      e.currentTarget.className = \"text-popup\"\n    } \n  }\n  render() {\n    const { surfPoints, viewport } = this.state\n    return (\n      <>\n        <div className=\"spotMap box\">\n          <MapGl\n            {...viewport}\n            mapboxApiAccessToken={process.env.REACT_APP_MAPTOK}\n            height={'100vh'}\n            width={'100vw'}\n            mapStyle=\"mapbox://styles/mapbox/streets-v11\"\n            onViewportChange={viewport => this.setState({ viewport })}\n            zoom={viewport.zoom}\n            scrollZoom={false}\n          >\n        {surfPoints.map(point => {\n          return (\n            <div key={`popup${point._id}`}>\n              <Popup\n                latitude={point.lat}\n                longitude={point.long}\n                closeButton={false}\n                >\n                  <div className=\"text-popup\" onClick={this.handlePopupShow}>\n                    <h1>{point.spot}, {point.region}, <span role=\"img\" aria-label=\"marker\"></span></h1>\n                    <h2>{point.country}, {point.region} </h2>\n                    <h3>{point.difficulty}, {point.season}</h3>\n                    <div className=\"popup-image\">\n                      <img className=\"index-image\" src={point.image} alt={point.name} />\n                    </div>\n                    <Link to={`/surfspots/${point._id}`}>\n                      <p>Explore...</p>\n                    </Link>\n                  </div>\n                </Popup>\n            </div>\n          )\n        })}\n        <NavigationControl showZoom={true} showCompass={true} position=\"top-left\" className=\"map-controls\" />\n          </MapGl>\n        </div>\n      </>\n    )\n  }\n}\nexport default SpotMap","import React from 'react'\nimport { getAllSpots } from '../../lib/api'\n\nimport SpotCard from './SpotCard'\nimport SpotList from './SpotList'\nimport SpotMap from './SpotMap'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faMapPin, faList, faTh } from '@fortawesome/fontawesome-free-solid'\n\nclass SpotIndex extends React.Component {\n  state = {\n    spots: null,\n    searchTerm: '',\n    hideMap: true,\n    hideList: true,\n    hideGrid: false,\n    currentLocation: null\n  }\n\n  async componentDidMount() {\n    window.navigator.geolocation.getCurrentPosition(data => {\n      this.setState({ currentLocation: [data.coords.longitude, data.coords.latitude] })\n    })\n    try {\n      const res = await getAllSpots()\n      const searchTerm = this.props.location.search.split('=')[1]\n      this.setState({ spots: res.data, searchTerm })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleSearch = e => {\n    this.setState({ [e.target.spots]: e.target.value })\n\n  }\n\n  filteredSpots = () => {\n    const { spots, searchTerm } = this.state\n    const result = new RegExp(searchTerm, 'i')\n    return spots.filter(spot => {\n      return result.test(spot.country) || result.test(spot.continent) || result.test(spot.spot) || result.test(spot.difficulty) || result.test(spot.season) || result.test(spot.waveType)\n    })\n  }\n\n  handleDisplayCard = e => {\n    e.preventDefault()\n    if (e.currentTarget.name === 'showList') {\n      this.setState({ hideMap: true, hideList: false, hideGrid: true })\n    } else if (e.currentTarget.name === 'showGrid') {\n      this.setState({ hideMap: true, hideList: true, hideGrid: false })\n    } else {\n      this.setState({ hideMap: false, hideList: true, hideGrid: true })\n    }\n  }\n\n  render() {\n    if (!this.state.spots) return null\n    return (\n      <div className=\"spotsCollection\">\n        <div className=\"hero is-medium index\">\n          <div className=\"hero-body has-bg-img\">\n            <h1 className=\"title nalu\">N A L U</h1>\n          </div>\n        </div>\n        <div className=\"field box index-search\">\n          <div className=\"control index-search-bar\">\n            <input className=\"input is-primary is-rounded indexpage\"\n              name=\"search\"\n              type=\"text\"\n              placeholder=\"Type the surf spots? Country? Continent? Difficulty? Wave Type or Season...\"\n              onChange={this.handleSearch}\n              value={this.state.searchTerm}\n            />\n          <div className=\"view-change buttons field has-addons maps\">\n          <p className=\"control list-view-button\">\n            <button\n              className=\"button\"\n              name=\"showList\"\n              onClick={this.handleDisplayCard}>\n              <span className=\"icon is-small\">\n              <FontAwesomeIcon icon={faList}/>\n              </span>\n            </button>\n          </p>\n          <p className=\"control\">\n            <button\n              className=\"button\"\n              name=\"showGrid\"\n              onClick={this.handleDisplayCard}>\n              <span className=\"icon is-small\">\n              <FontAwesomeIcon icon={faTh}/>\n              </span>\n            </button>\n          </p>\n          <p className=\"control\">\n            <button\n              className=\"button\"\n              name=\"showMap\"\n              onClick={this.handleDisplayCard}>\n              <span className=\"icon is-small\">\n              <FontAwesomeIcon icon={faMapPin}/>\n              </span>\n            </button>\n          </p>\n        </div>\n          </div>\n        </div>\n        <section className=\"section\">\n        </section>\n        <section className={`${this.state.hideList ? 'section spot-list is-hidden' : 'section spot-list'}`}>\n        <div className=\"colmns is-multiline\">\n          {this.filteredSpots().map(spot => (\n            <SpotList key={`List${spot._id}`} {...spot} />\n          ))}\n        </div>\n        </section>\n        <section className={`${this.state.hideGrid ? 'section spot-grid is-hidden' : 'spot-grid'}`}>\n          <div className=\"container\">\n            <div className=\"columns is-multiline\">\n              {this.filteredSpots().map(spot => (\n                <SpotCard key={`Grid${spot._id}`} {...spot} />\n              ))}\n            </div>\n          </div>\n        </section>\n        <section className={`${this.state.hideMap ? 'section spot-map is-hidden' : 'spot-map'}`}>\n          <SpotMap spots={this.filteredSpots()}/>\n        </section>\n      </div>\n    )\n  }\n}\nexport default SpotIndex\n","import React from 'react'\nimport axios from 'axios'\nimport Select from 'react-select'\n\nimport { getToken } from '../../lib/auth'\nimport SpotIndex from '../spots/SpotIndex'\n\nclass AddAchievedSpot extends React.Component {\n  state = {\n    spots: null,\n    spotOptions: null,\n    achievedSpot: null,\n    selectedSpot: ''\n  }\n  async componentDidMount() {\n    try {\n      const withHeaders = () => {\n        return {\n          headers: { Authorization: `Bearer ${getToken()}` }\n        }\n      }\n      const baseUrl = '/api'\n      const res = await axios.get(`${baseUrl}/surfspots`)\n      const resUser = await axios.get(`${baseUrl}/profile/${this.props.id}`, withHeaders())\n      this.setState({ spots: res.data, achievedSpot: resUser.data.achievedSpot },\n        () => {\n          this.addSpotOptions()\n        })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  addSpotOptions = () => {\n    const { spots } = this.state\n\n    const spotOptions = spots.map(spot => ({ value: spot._id, label: spot.spot }))\n    this.setState({ spotOptions })\n  }\n  handleMultiChange = async (selected) => {\n    const selectedSpot = selected ? { spot: selected.value } : ''\n    this.setState({ selectedSpot })\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={(event) => this.props.handleSubmit(event, this.state.selectedSpot)} className=\"columns comp-form\" >\n          <Select\n            className=\"column is-four-fifths\"\n            placeholder=\"Where have you surfed?\"\n            options={this.state.spotOptions}\n            onChange={this.handleMultiChange}\n          />\n          <div className=\"column\"> \n            <button type=\"submit\" className=\"button\">+</button>\n          </div>\n        </form>\n      </div >\n    )\n  }\n}\nexport default AddAchievedSpot","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst HandleCompletedSpot = (props) => {\n  return (\n    <div className=\"column is-full fav-comp\">\n      <div className=\"columns\">\n      <Link to={`/surfspots/${props._id}`}>\n        <img className=\"column is-three-fifths group-image\" src={props.image} height=\"50px\" width=\"70px\" alt=\"surfSpot Img\"/>\n      </Link>\n      </div>\n    </div>\n  )\n}\n\nexport default HandleCompletedSpot","import React from 'react'\nimport { getUser, getAllSpots, addAchievedSpot, deleteAcheivedSpot } from '../../lib/api'\nimport { isOwner } from '../../lib/auth'\n\nimport AddAchievedSpot from './AddAchievedSpot'\nimport HandleCompletedSpot from './HandleCompletedSpot'\n\nclass Profile extends React.Component {\n  state= {\n    users: null,\n    spots: null,\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await getUser(this.props.match.params.id)\n      const resSpot = await getAllSpots()\n      this.setState({ spots: resSpot.data, users: res.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  addAchievedSurfSpot = async (e, spotId ) => {\n    e.preventDefault()\n    try {\n      const userId = this.state.users._id\n      await addAchievedSpot(userId, spotId)\n      const res = await getUser(userId)\n      this.setState({ users: res.data })\n\n    } catch (err) {\n      console.log(err.response)\n    }\n  }\n\n  removeCompletedSpot = async (e) => {\n    const linkName = e.target.name\n    const id = e.target.value\n\n    try {\n      const userId = this.state.users._id\n\n      await deleteAcheivedSpot(userId, linkName, id)\n      const res = await getUser(userId)\n      this.setState({ users: res.data })\n\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  render() {\n    const { users, spots } = this.state\n    if (!users) return null\n\n    let achievedSurfSpot\n    let filteredSpots = [];\n    if (spots && users){\n      filteredSpots = spots.filter(spot => {\n        let isUserSpot = false\n        users.achievedSurfSpot.forEach(surfSpotId =>{\n          if (surfSpotId.spot === spot._id) {\n            isUserSpot = true\n          }\n        })\n        return isUserSpot\n      });\n    }\n      if (filteredSpots) {\n      if (filteredSpots.length > 0 ) {\n        achievedSurfSpot = filteredSpots.map(spot => {\n          return <HandleCompletedSpot key={spot._id} {...spot} handleClick={this.removeCompletedSpot} edit={this.state.edit} />\n        })\n      } else {\n        if (isOwner(this.state.users._id)) {\n          achievedSurfSpot = <div>Add your surf spots!</div>\n        } else { achievedSurfSpot = <div>You've not surfed anywhere... </div> }\n      }\n    }\n\n\n    return (\n      <section className=\"section profilebackground\">\n        <h1 className=\"title is-3 heading\">My Profile</h1>\n        <div className=\"columns is-two-fifths\">\n          <div className=\"columns is-two-fifths\">\n            <div className=\"container picture\">\n              <div className=\"pic\">\n                <figure className=\"image is-128x128\">\n                  <img className=\"is-rounded\"\n                    name=\"profileImage\"\n                    value=\"\"\n                    alt=\"user-img\"\n                    src={users.profileImage}\n                  />\n                </figure>\n              </div>\n              <div className=\"has-text-centered add-margin\">\n                <button className=\"button is-primary has-text-centered add-margin\">Edit Portfolio</button>\n              </div>\n            </div>\n            <div className=\"column is-four-fifths personalinfo\">\n              <div className=\"column details\"></div>\n              <div className=\"details\"\n                name=\"\"\n                value=\"\">\n              </div>\n              <div className=\"column details\">\n                <h1 className=\"\">{users.username}</h1>\n              </div>\n              <hr className=\"seperator\" />\n              <div className=\"column details\">\n              <h1>{users.email}</h1>\n              </div>\n              <hr className=\"seperator\" />\n              <div className=\"column details\">\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"tile is-parent tile is-6\">\n          <div className=\"tile is child box\">\n            <div className=\"columns is multiline \">\n              <article className=\"column is-full\">\n                <h1 className=\"subtitle\">Wish List</h1>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  placeholder=\"\"\n                  name=\"visited\"\n                />\n              </article>\n            </div>\n          </div>\n        </div>\n        <div className=\"tile is-parent tile is-6\">\n          <div className=\"tile is child box\">\n            <div className=\"columns is multiline\">\n              <article className=\"column is-full\">\n                <h1 className=\"subtitle\">Places Surfed</h1>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  placeholder=\"\"\n                  name=\"visited\"\n                />\n                <div className=\"column columns is-multiline\">\n                  {isOwner(users._id) &&\n                    <div className=\"column is-full\">\n                      <AddAchievedSpot\n                        id={users._id}\n                        handleSubmit={this.addAchievedSurfSpot}\n                      />\n                    </div>\n                  }\n                  <div className=\"completed\">{achievedSurfSpot}</div>\n                  </div>\n              </article>\n            </div>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\nexport default Profile\n","import React from 'react'\nimport MapGL, { Popup } from 'react-map-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\nclass SpotMiniMap extends React.Component {\n  render() {\n    const spot = this.props.spot\n    return (\n      <div className=\"spot-show-minimap\">\n        <MapGL\n          mapboxApiAccessToken={process.env.REACT_APP_MAPTOK}\n          width=\"50vh\"\n          height=\"50vh\"\n          mapStyle=\"mapbox://styles/heybt/cke9wjydl4lb719p30xbp38b3\"\n          latitude={spot.lat}\n          longitude={spot.long}\n          zoom={12}\n          >\n\n            <div>\n              <Popup\n              latitude={spot.lat}\n              longitude={spot.long}\n              closeButton={false}\n              >\n                <h1 className=\"popup-text\">{spot.region}, {spot.country}<span role=\"img\" aria-label=\"marker\"></span></h1>\n              </Popup>\n            </div>\n\n          </MapGL>\n      </div>\n    )\n  }\n}\n\nexport default SpotMiniMap\n","import React from 'react'\nimport Moment from 'react-moment'\nimport 'moment-timezone'\nimport ReactStars from 'react-rating-stars-component'\n\nimport { isOwner, getUserId, isAuthenticated } from '../../lib/auth'\nimport { getUser } from '../../lib/api'\n\nclass SpotComments extends React.Component {\n  state = {\n    commentData: '',\n    rating: '',\n    userProfileImage: '',\n\n  }\n\n  async componentDidMount() {\n    try {\n      const currentUserId = getUserId()\n      const loggedIn = await isAuthenticated()\n      if (!loggedIn) {\n        this.setState({ userProfileImage: '' })\n      } else {\n        const res = await getUser(currentUserId)\n        this.setState({ userProfileImage: res.data.profileImage })\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleChange = e => {\n    const commentData = e.target.value\n    this.setState({ commentData })\n  }\n\n  handleRating = rating => {\n\n    this.setState({ rating })\n  }\n\n  handleSubmit = (e, rating, text) => {\n    this.props.handleCommentSubmit(e, rating, text)\n    this.setState({ rating: this.props.commentRating, commentData: this.props.commentText })\n  }\n\n\n  render() {\n    const { handleCommentDelete, comment, errors} = this.props\n    const { commentData, rating, userProfileImage } = this.state\n\n\n    return (\n      <>\n        {isAuthenticated() &&\n          <form onSubmit={(event) => { this.handleSubmit(event, rating, commentData) }}>\n            <h1 className=\"nalu-title\">Add Review:</h1>\n            <br />\n            <article className=\"media\">\n              <figure className=\"media-left\">\n                <p className=\"image is-64x64\">\n                  <img src={userProfileImage} alt=\"User Img\" />\n                </p>\n              </figure>\n              <div className=\"media-content\">\n                <div className=\"field\">\n                  <p className=\"control\">\n                    <textarea\n                      className=\"textarea\"\n                      placeholder=\"Add a comment...\"\n                      name=\"text\"\n                      onChange={this.handleChange}\n                      value={commentData}\n                    >\n                    </textarea>\n                  </p>\n                  {errors && !errors.text && <small className=\"help is-danger\">Comment is required</small>}\n                </div>\n                {errors && !errors.rating && <small className=\"help is-danger\">Rating is required</small>}\n                <div className=\"level\">\n                  <div className=\"level-left\">\n                    <div className=\"control\">\n                      <label>Rating: </label>\n                      <ReactStars\n                        count={5}\n                        size={20}\n                        half={false}\n                        name=\"rating\"\n                        value={parseInt(this.state.rating)}\n                        onChange={calcRating => {\n                          this.handleRating(calcRating)\n                        }}\n                        fullIcon={<i className=\"fa fa-star\"></i>}\n                        emptyIcon={<i className=\"far fa-star\"></i>}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <nav className=\"level\">\n                  <div className=\"level-left\">\n                    <div className=\"level-item\">\n                      <button type=\"submit\" className=\"button spot-button-active is-success\">Submit Comment!</button>\n                    </div>\n                  </div>\n                </nav>\n                <hr />\n              </div>\n            </article>\n          </form>}\n        <article className=\"media\">\n          <h1 className=\"nalu-title\">N A L U Comments:</h1>\n        </article>\n        {comment.map(comment => {\n          return (\n            <article key={comment._id} className=\"media\">\n              <figure className=\"media-left\">\n                <p className=\"image is-64x64\">\n                  <img src={comment.user.profileImage} alt=\"User Img\" />\n                </p>\n              </figure>\n              <div className=\"media-content\">\n                <div>\n                  <strong>{comment.user.username}</strong> <small><Moment fromNow >{comment.createdAt}</Moment></small>\n                  <ReactStars\n                    count={5}\n                    size={20}\n                    half={false}\n                    value={comment.rating}\n                    emptyIcon={<i className=\"far fa-star\"></i>}\n                    halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\n                    fullIcon={<i className=\"fa fa-star\"></i>}\n                    edit={false}\n                  />\n                  <br />\n                  {comment.text}  \n                </div>\n              </div>\n              <div className=\"media-right\">\n                <form onSubmit={handleCommentDelete} id={comment._id}>\n                  {isOwner(comment.user._id) && <button type=\"submit\" className=\"delete\"></button>}\n                </form>\n              </div>\n            </article>\n          )\n        })}\n      </>\n    )\n  }\n}\n\nexport default SpotComments\n","import React from 'react'\nimport ReactStars from 'react-rating-stars-component'\nimport SpotMiniMap from './SpotMiniMap'\nimport SpotComments from './SpotComments'\nimport { showSingleSpot, deleteSpot, commentSpot, deleteSpotComment, getUser, getLocalWeatherStatus, getMarineWeatherStatus } from '../../lib/api'\nimport { isAuthenticated, isOwner, getUserId } from '../../lib/auth'\nclass SpotShow extends React.Component {\n  state = {\n    spot: null,\n    errors: '',\n    averageRating: null,\n    modalImageOn: false,\n    uploadImageOn: false,\n    user: '',\n    commentRating: '',\n    commentText: '',\n    comment: {\n      text: '',\n      rating: ''\n    },\n    localWeather: null,\n    localMarineWeather: null\n  }\n  async componentDidMount() {\n    try {\n      const res = await showSingleSpot(this.props.match.params.id)\n      const loggedIn = await isAuthenticated()\n      const resWeather = await getLocalWeatherStatus(res.data.lat, res.data.long)\n\n      this.setState({ localWeather: resWeather.data })\n      const resMarine = await getMarineWeatherStatus(res.data.lat, res.data.long)\n\n      this.setState({ localMarineWeather: resMarine.data })\n      if (!loggedIn) {\n        this.setState({ spot: res.data, user: '' }, () => {this.handleRating()})\n\n      } else {\n        const currentUserId = await getUserId()\n        const currentUser = await getUser(currentUserId)\n        this.setState({ spot: res.data, user: currentUser.data }, () => {\n          this.handleRating()\n\n          },\n        )\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  withMarineHeaders = () => {\n    return {\n      headers: { Authorization: process.env.REACT_APP_STORM }\n    }\n  }\n\n  handleDeleteSpot = async () => {\n    try {\n      await deleteSpot(this.props.match.params.id)\n      this.props.history('/surfspots')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  handleCommentSubmit = async (e, rating, text) => {\n    e.preventDefault()\n    try {\n      const spotId = this.props.match.params.id\n      await commentSpot(spotId, { rating: rating, text: text })\n      const res = await showSingleSpot(spotId)\n      this.setState({ spot: res.data, errors: '', commentText: '', commentRating: '' }, () => {this.handleRating()})\n    } catch (err) {\n      this.setState({ errors: JSON.parse(err.response.config.data)})\n    }\n  }\n  handleCommentDelete = async event => {\n    event.preventDefault()\n    const spotId = this.props.match.params.id\n    const commentId = event.target.id\n    try {\n      await deleteSpotComment(spotId, commentId)\n      const res = await showSingleSpot(spotId)\n      this.setState({ spot: res.data },() => {this.handleRating()})\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  handleRating = () => {\n    const comments = this.state.spot.comments\n    const ratings = comments.map(comment => {\n      return comment.rating\n    })\n    const averageRating = (ratings.reduce((a, b) => a + b, 0) / ratings.length).toFixed(0)\n    this.setState({ averageRating })\n  }\n  render() {\n    if (!this.state.spot) return null\n    const { spot, averageRating, localMarineWeather, localWeather } = this.state\n\n    return (\n      <div className=\"SpotShow box\">\n        <div className=\"hero is-medium is-success show\">\n          <div className=\"hero-body individual\" style={{ backgroundImage: `url(${spot.image})` }}>\n            <h1 className=\"surfspot\">{spot.spot}, {spot.country}</h1>\n          </div>\n        </div>\n        <div className=\"weather-info\">\n          <div className=\"columns is-multiline\">\n          <section className=\"column is-one-third spot-info\">\n            <p>Difficulty: {spot.difficulty}</p>\n            <h1>Seasons: {spot.season} </h1>\n            <h1>Wave Type: {spot.waveType}</h1>\n            <h1>Average Rating:\n              <ReactStars\n                count={5}\n                size={20}\n                half={false}\n                value={4}\n                emptyIcon={<i className=\"far fa-star\"></i>}s\n                fullIcon={<i className=\"fa fa-star\"></i>}\n                edit={false}\n            />\n            </h1>\n          </section>\n          <section className=\"column is-one-third local-weather\">\n            <section className=\"column is-one-third local-weather\">\n            <p className=\"spot-info\">Local Weather</p>\n            <h1>{localWeather.weather[0].main}</h1>\n            <img src={`http://openweathermap.org/img/wn/${localWeather.weather[0].icon}@2x.png`} alt=\"weather-icon\" />\n            <h1>{(localWeather.main.temp - 273.15).toFixed(0)} C</h1>\n            </section>\n          </section>\n          <section className=\"column is-one-third marine-weather\">\n            <p className=\"spot-info\">Marine Weather:</p>\n            <h1>Sea Level: {localMarineWeather.hours[0].seaLevel.meto} Tidal</h1>\n            <h1>Swell Direction: {localMarineWeather.hours[0].swellDirection.meteo}</h1>\n            <h1>Swell Height: {localMarineWeather.hours[0].swellHeight.meteo} SH</h1>\n            <h1>Water Temp: {localMarineWeather.hours[0].waterTemperature.meto}C</h1>\n            <h1>Wave Height: {localMarineWeather.hours[0].waveHeight.meteo} WH</h1>\n          </section>\n              <hr />\n          <section className=\"description-box\">\n          <h1 className=\"title-show\">Description:</h1>\n            <p>{spot.description}</p>\n            <hr />\n          </section> \n          <div className=\"column\">\n            <div className=\"column is-half\">\n            <h1 className=\"title-show\">Location: {spot.region}, {spot.country}</h1>\n              <br />\n              <SpotMiniMap\n                spot={this.state.spot}\n                />\n            </div>\n          </div>\n          <div className=\"column\">\n            <div className=\"column is-half\">\n            <SpotComments\n                      comment={this.state.spot.comments}\n                      handleCommentDelete={this.handleCommentDelete}\n                      handleCommentSubmit={this.handleCommentSubmit}\n                      errors={this.state.errors}\n                      commentText={this.state.commentText}\n                      commentRating={this.state.commentRating}\n                    />\n            </div>\n          </div>\n        </div>\n      </div>\n      </div>\n    )\n  }\n}\nexport default SpotShow\n","import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faGlobe,faPortrait,faFlag } from '@fortawesome/free-solid-svg-icons'\n\n\nconst SpotForm = ({  formData, handleChange, handleSubmit, submitText }) => {\n  return (\n    <div className=\"columns \">\n      <form \n      onSubmit={handleSubmit} \n      className=\"column is full length \"> \n        <main className=\"section\">\n        <h1 class=\"title is-2 spotHeading\">SURF SPOT</h1>\n            <div className=\"columns is-mobile\">\n            <div className=\"column is-4-tablet is-offset-4-tablet is-8-mobile is-offset-2-mobile box boxcolor\">\n            <div className=\"control list\">\n            <div className=\"field\">\n            <label className=\"label\">Continent</label>\n            <div className=\"control is-expanded\">\n            <div className=\"select is-fullwidth writehere\">\n            <select name=\"continent\" onChange={handleChange} value={formData.value} defaultValue=\"\">\n            <span className=\"icon is-small is-left\">\n              <FontAwesomeIcon icon={faGlobe} />\n          </span>\n          <option disabled value=\"\">-\n          </option>\n          <option value=\"Africa\">Africa</option>\n          <option value=\"Asia\">Asia</option>\n          <option value=\"Europe\">Europe</option>\n          <option value=\"North America\">North America</option>\n          <option value=\"Oceania\">Oceania</option>\n          <option value=\"South America\">South America</option>\n          </select>\n          </div>\n        </div>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Spot</label>\n          <p className=\"control is-expanded\">  \n          <div className=\"control has-icons-left text\">\n            <input\n              className=\"input user\"\n              placeholder=\"Spot\"\n              name=\"spot\"\n              onChange={handleChange}\n              value={formData.spot}\n            />\n            <span className=\"icon is-small is-left\">\n              <FontAwesomeIcon icon={faGlobe} />\n            </span>\n          </div>\n          </p>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Region</label>\n          <p className=\"control is-expanded\">  \n          <div className=\"control has-icons-left text\">\n            <input\n              className=\"input user\"\n              placeholder=\"Region\"\n              name=\"region\"\n              onChange={handleChange}\n              value={formData.region}\n            />\n            <span className=\"icon is-small is-left text\">\n              <FontAwesomeIcon icon={faGlobe} />\n            </span>\n          </div>\n          </p>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Country</label>\n          <p className=\"control is-expanded\">  \n          <div className=\"control has-icons-left text\">\n            <input\n              className=\"input user\"\n              placeholder=\"Country\"\n              name=\"country\"\n              onChange={handleChange}\n              value={formData.country}\n            />\n            <span className=\"icon is-small is-left text\">\n              <FontAwesomeIcon icon={faFlag} />\n            </span>\n          </div>\n          </p>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Longtitude</label>\n          <p className=\"control is-expanded\">  \n          <div className=\"control has-icons-left text\">\n            <input\n              className=\"input user\"\n              placeholder=\"Longtitude\"\n              name=\"long\"\n              onChange={handleChange}\n              value={formData.long}\n            />\n            <span className=\"icon is-small is-left text\">\n              <FontAwesomeIcon icon={faGlobe} />\n            </span>\n          </div>\n          </p>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Latitude</label>\n          <p className=\"control is-expanded\">  \n          <div className=\"control has-icons-left text\">\n            <input\n              className=\"input user\"\n              placeholder=\"Latitude\"\n              name=\"lat\"\n              onChange={handleChange}\n              value={formData.lat}\n            />\n            <span className=\"icon is-small is-left text\">\n              <FontAwesomeIcon icon={faGlobe} />\n            </span>\n          </div>\n          </p>\n        </div>\n            <div className=\"field\">\n            <label className=\"label\">Wave Types</label>\n        <div className=\"control is-expanded\">\n        <div className=\"select is-fullwidth writehere\">\n          <select name=\"waveType\" onChange={handleChange} value={formData.value} defaultValue=\"\">\n          <span className=\"icon is-small is-left\">\n              <FontAwesomeIcon icon={faGlobe} />\n            </span>\n          <option disabled value=\"\">-</option>\n          <option value=\"Beach Breaks\">Beach Breaks</option>\n          <option value=\"Reef Breaks\">Reef Breaks</option>\n          <option value=\"Point breaks\">Point breaks</option>\n          <option value=\"Rivermouth Waves\">Rivermouth Waves</option>\n          <option value=\"Reform Waves\">Reform Waves</option>\n          <option value=\"Crumbly Waves\">Crumbly Waves</option>\n          <option value=\"Double-up Waves\">Double-up Waves</option>\n          </select>\n          </div>\n        </div>\n        </div> \n        <div className=\"field\">\n        <label className=\"label\">Difficulty</label>\n        <div className=\"control is-expanded\">\n        <div className=\"select is-fullwidth writehere\">\n          <select name=\"difficulty\" onChange={handleChange} value={formData.value} defaultValue=\"\">\n          <span className=\"icon is-small is-left\">\n              <FontAwesomeIcon icon={faGlobe} />\n            </span>\n          <option disabled value=\"\">-</option>\n          <option value=\"All levels\">All levels</option>\n          <option value=\"Beginner\">Beginner</option>\n          <option value=\"Intermediate\">Intermediate</option>\n          <option value=\"Advanced\">Advanced</option>\n          </select>\n          </div>\n        </div>\n        </div> \n        <div className=\"field\">\n        <label className=\"label\">Season</label>\n        <div className=\"control is-expanded\">\n        <div className=\"select is-fullwidth writehere\">\n          <select name=\"season\" onChange={handleChange} value={formData.value} defaultValue=\"\">\n          <option disabled value=\"\">-</option>\n          <option value=\"Summer\">Summer</option>\n          <option value=\"Winter\">Winter</option>\n          <option value=\"Autumn\">Autumn</option>\n          <option value=\"Spring\">Spring</option>\n          </select>\n          </div>\n        </div>\n        </div> \n        <div className=\"field\">\n          <label className=\"label\">Add an Image (URL)</label>\n          <p className=\"control is-expanded\">  \n          <div className=\"control has-icons-left text\">\n            <input\n              className=\"input user\"\n              placeholder=\"image\"\n              name=\"image\"\n              onChange={handleChange}\n              value={formData.image}\n            />\n              <span className=\"icon is-small is-left text\">\n              <FontAwesomeIcon icon={faPortrait} />\n            </span>\n          </div>\n          </p>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Profile Picture</label>\n          <p className=\"control is-expanded\">  \n          <div className=\"control has-icons-left text\">\n            <input\n              className=\"input user\"\n              placeholder=\"Profile Picture\"\n              name=\"profileImage\"\n              onChange={handleChange}\n              value={formData.lat}\n            />\n              <span className=\"icon is-small is-left text\">\n              <FontAwesomeIcon icon={faGlobe} />\n            </span>\n          </div>\n          </p>\n        </div>\n        <label className=\"label\">Description</label>\n          <div className=\"field text\">\n          <div className=\"control\">\n            <textarea \n              className=\"textarea\" \n              placeholder=\"Description\"  \n              name=\"description\"\n              value={formData.description} \n              onChange={handleChange}>\n            </textarea>\n            <button type = \"submit\" className=\"button is-dark sendoff\">\n              Submit\n              {submitText}  \n            </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n  </form>\n</div>\n    )\n}\nexport default SpotForm","import React from 'react'\nimport { createSpot } from '../../lib/api'\nimport SpotForm from './SpotForm'\nclass SpotNew extends React.Component {\n  state = {\n  formData:{\n    continent: '',\n    region: '',\n    country: '',\n    lat: '',\n    long: '',\n    spot: '',\n    waveType: '',\n    difficulty: '',\n    season: '',\n    image: '',\n    description: ''\n  }\n}\nhandleChange = ( event ) => {\n  const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n  this.setState({ formData })\n\n}\nhandleSubmit = async event => {\n  event.preventDefault()\n  try {\n    const res = await createSpot(this.state.formData)\n    this.props.history.push(`/surfspots/${res.data._id}`)\n  } catch (err) {\n    console.log(err.response.data)\n  }\n}\n  render() {\n    return ( <section className=\"section backgoundImage\">\n      <div className=\"container\">\n        <SpotForm \n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n          formData={this.state.formData}\n          />\n      </div>\n    </section>\n    )\n  }\n}\nexport default SpotNew","import React from 'react'\nimport SpotForm from './SpotForm'\n\nimport { showSingleSpot, editSpot } from '../../lib/api'\n\nclass SpotEdit extends React.Component {\n  state = {\n    formData:{\n      continent: '',\n      region: '',\n      country: '',\n      lat: 0,\n      long: 0,\n      spot: '',\n      waveType: '',\n      difficulty: '',\n      season: '',\n      image: '',\n      description: ''\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await showSingleSpot(this.props.match.params.id)\n      this.setState({ formData: res.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    const spotId = this.props.match.params.id\n    try {\n      const res = await editSpot(spotId, this.state.formData) // <-- this doesn't return anything called form data\n      console.log(res.data) // <--  lets see the response\n      this.props.history.push(`/surfspots/${spotId}`) // <-- you can just use your spot Id here\n    } catch (err) {\n      this.setState({ errors: err.response.data.errors })\n    }\n  }\n\n  render() {\n\n    return ( \n    <section className=\"section\">\n      <div className=\"container\">\n        <SpotForm \n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n          formData={this.state.formData}\n          />\n      </div>\n    </section>\n    )\n  }\n}\n\nexport default SpotEdit","import React from 'react'\n\nconst UserIndex = () => <h1>User Show Page</h1>\n\nexport default UserIndex","import React from 'react'\n\nconst ErrorPage = () => (\n  <section className=\"hero is-fullheight-with-navbar has-background\"  >\n    <img hero-background src=\"https://ceylonsliders.com/wp-content/uploads/2018/01/2S8A8835.jpg\" alt=\"surfing wipeout\"/>\n    <div className=\"hero-body-container\">\n      <div className=\"container has-text-centered\">\n      <h1 className=\"title is-1 has-text-centered has-text-black\">\n        Gnarly Wipeout - Something Went Wrong\n      </h1>\n    </div>\n    </div>\n  </section>\n)\n\nexport default ErrorPage","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { logout, isAuthenticated }  from '../../lib/auth'\n\nconst SecureRoute = ({ component: Component, ...rest }) => {\n  if (isAuthenticated()) return <Route {...rest} component={Component}/>\n  logout()\n  return <Redirect to=\"/login\"/>\n}\n\nexport default SecureRoute\n","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport Notification from 'react-notify-toast'\nimport Home from './components/common/Home'\nimport Navbar from './components/common/Navbar'\nimport Register from './components/auth/Register'\nimport Login from './components/auth/Login'\nimport Profile from './components/common/Profile'\nimport SpotIndex from './components/spots/SpotIndex'\nimport SpotShow from './components/spots/SpotShow'\nimport SpotNew from './components/spots/SpotNew'\nimport SpotEdit from './components/spots/SpotEdit'\nimport UserIndex from './components/users/UserIndex'\nimport ErrorPage from './components/common/ErrorPage'\nimport SecureRoute from './components/common/SecureRoute'\n\nconst App = () => (\n  <BrowserRouter>\n    <main>\n\n      <Notification />\n      <Navbar />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <SecureRoute path=\"/surfspots/:id/edit\" component={SpotEdit} />\n        <Route path=\"/surfspots/new\" component={SpotNew} />\n        <Route path=\"/surfspots/:id\" component={SpotShow} />\n        <Route path=\"/surfspots\" component={SpotIndex} />\n        <Route path=\"/users\" component={UserIndex} />\n        <SecureRoute exact path=\"/profile/:id\" component={Profile} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/*\" component={ErrorPage} />\n      </Switch>\n    </main>\n  </BrowserRouter>\n)\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/main.scss'\nimport App from './App'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}